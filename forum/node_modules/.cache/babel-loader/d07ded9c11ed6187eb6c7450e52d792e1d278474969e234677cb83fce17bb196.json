{"ast":null,"code":"var _jsxFileName = \"/workspaces/forum/src/components/Channels.js\";\n// importing react library \nimport React from 'react';\n// defining component 'Channels'\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Channels = _ref => {\n  let {\n    provider,\n    account,\n    forum,\n    channels,\n    currentChannel,\n    setCurrentChannel\n  } = _ref;\n  //when user click \"Add New Forums\" it will redirect to send a mail to contract owner for request create new channel\n\n  const handleClick = () => {\n    window.location.href = 'https://mail.google.com/mail/?view=cm&fs=1&to=shibilpk984@gmail.com';\n  };\n\n  //function to handle channel selection\n  const channelHandler = async channel => {\n    // check user has joined \n    const hasJoined = await forum.hasJoined(channel.id, account);\n    if (hasJoined) {\n      setCurrentChannel(channel);\n      //if user didn't joined let them to mint token by selected channnel fees\n    } else {\n      const signer = await provider.getSigner();\n      const transaction = await forum.connect(signer).mint(channel.id, {\n        value: channel.cost\n      });\n      await transaction.await();\n    }\n  };\n  // frontend design\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"channels\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"channels__text\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Channels / Forums\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: channels.map((channel, index) =>\n        /*#__PURE__*/\n        //list channels\n        _jsxDEV(\"li\", {\n          onClick: () => channelHandler(channel),\n          className: currentChannel && currentChannel.id.toString() === channel.id.toString() ? \"active\" : \"\",\n          children: channel.name\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        onClick: handleClick,\n        style: {\n          cursor: 'pointer'\n        },\n        children: \"Add New Forums\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), \" // button to request for new forum\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n// Export Channels component as the default export \n_c = Channels;\nexport default Channels;\nvar _c;\n$RefreshReg$(_c, \"Channels\");","map":{"version":3,"names":["React","Channels","provider","account","forum","channels","currentChannel","setCurrentChannel","handleClick","window","location","href","channelHandler","channel","hasJoined","id","signer","getSigner","transaction","connect","mint","value","cost","await","map","index","toString","name","cursor"],"sources":["/workspaces/forum/src/components/Channels.js"],"sourcesContent":["// importing react library \r\nimport React from 'react';\r\n// defining component 'Channels'\r\nconst Channels = ({ provider, account, forum, channels, currentChannel, setCurrentChannel }) => {\r\n  //when user click \"Add New Forums\" it will redirect to send a mail to contract owner for request create new channel\r\n  \r\n  const handleClick = () => {\r\n    window.location.href = 'https://mail.google.com/mail/?view=cm&fs=1&to=shibilpk984@gmail.com';\r\n  };\r\n\r\n  \r\n //function to handle channel selection\r\n  const channelHandler = async (channel) => {\r\n    // check user has joined \r\n  const hasJoined = await forum.hasJoined(channel.id, account)\r\n  if(hasJoined){\r\n    setCurrentChannel(channel)\r\n//if user didn't joined let them to mint token by selected channnel fees\r\n  }else{\r\n    const signer = await provider.getSigner()\r\n    const transaction = await forum.connect(signer).mint (channel.id , { value : channel.cost })\r\n    await transaction.await()\r\n  }\r\n\r\n}\r\n// frontend design\r\n  return (\r\n    <div className=\"channels\">\r\n      <div className=\"channels__text\">\r\n        \r\n        <h2>Channels / Forums</h2>\r\n        <ul>\r\n          {channels.map((channel, index) => (\r\n            //list channels\r\n            <li\r\n             key={index}\r\n             onClick={() => channelHandler(channel)}\r\n             className={currentChannel && currentChannel.id.toString() === channel.id.toString() ? \"active\" : \"\"}\r\n             >{channel.name}\r\n              \r\n            </li>\r\n          ))}\r\n        </ul>\r\n\r\n      </div>\r\n      \r\n\r\n      <div className=\"add\">\r\n      <h2 onClick={handleClick} style={{ cursor: 'pointer' }}>Add New Forums</h2> // button to request for new forum\r\n    </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n// Export Channels component as the default export \r\nexport default Channels;\r\n"],"mappings":";AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AAAA;AACA,MAAMC,QAAQ,GAAG,QAA+E;EAAA,IAA9E;IAAEC,QAAQ;IAAEC,OAAO;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,cAAc;IAAEC;EAAkB,CAAC;EACzF;;EAEA,MAAMC,WAAW,GAAG,MAAM;IACxBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,qEAAqE;EAC9F,CAAC;;EAGF;EACC,MAAMC,cAAc,GAAG,MAAOC,OAAO,IAAK;IACxC;IACF,MAAMC,SAAS,GAAG,MAAMV,KAAK,CAACU,SAAS,CAACD,OAAO,CAACE,EAAE,EAAEZ,OAAO,CAAC;IAC5D,IAAGW,SAAS,EAAC;MACXP,iBAAiB,CAACM,OAAO,CAAC;MAC9B;IACE,CAAC,MAAI;MACH,MAAMG,MAAM,GAAG,MAAMd,QAAQ,CAACe,SAAS,EAAE;MACzC,MAAMC,WAAW,GAAG,MAAMd,KAAK,CAACe,OAAO,CAACH,MAAM,CAAC,CAACI,IAAI,CAAEP,OAAO,CAACE,EAAE,EAAG;QAAEM,KAAK,EAAGR,OAAO,CAACS;MAAK,CAAC,CAAC;MAC5F,MAAMJ,WAAW,CAACK,KAAK,EAAE;IAC3B;EAEF,CAAC;EACD;EACE,oBACE;IAAK,SAAS,EAAC,UAAU;IAAA,wBACvB;MAAK,SAAS,EAAC,gBAAgB;MAAA,wBAE7B;QAAA,UAAI;MAAiB;QAAA;QAAA;QAAA;MAAA,QAAK,eAC1B;QAAA,UACGlB,QAAQ,CAACmB,GAAG,CAAC,CAACX,OAAO,EAAEY,KAAK;QAAA;QAC3B;QACA;UAEC,OAAO,EAAE,MAAMb,cAAc,CAACC,OAAO,CAAE;UACvC,SAAS,EAAEP,cAAc,IAAIA,cAAc,CAACS,EAAE,CAACW,QAAQ,EAAE,KAAKb,OAAO,CAACE,EAAE,CAACW,QAAQ,EAAE,GAAG,QAAQ,GAAG,EAAG;UAAA,UAClGb,OAAO,CAACc;QAAI,GAHTF,KAAK;UAAA;UAAA;UAAA;QAAA,QAMZ;MAAC;QAAA;QAAA;QAAA;MAAA,QACC;IAAA;MAAA;MAAA;MAAA;IAAA,QAED,eAGN;MAAK,SAAS,EAAC,KAAK;MAAA,wBACpB;QAAI,OAAO,EAAEjB,WAAY;QAAC,KAAK,EAAE;UAAEoB,MAAM,EAAE;QAAU,CAAE;QAAA,UAAC;MAAc;QAAA;QAAA;QAAA;MAAA,QAAK,uCAC7E;IAAA;MAAA;MAAA;MAAA;IAAA,QAAM;EAAA;IAAA;IAAA;IAAA;EAAA,QAEA;AAEV,CAAC;AACD;AAAA,KAnDM3B,QAAQ;AAoDd,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}